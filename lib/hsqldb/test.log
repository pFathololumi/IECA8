/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
drop table instr_offer if exists
drop table instrument if exists
create table customer (\u000a    id varchar(80) not null,\u000a    name varchar(80) not null,\u000a    family varchar(80) not null,\u000a    balance bigint not null,\u000a    primary key (id)\u000a)
create table instrument (\u000a    customer_id varchar(80) not null,\u000a    symbol varchar(100) not null,\u000a    quantity bigint not null,\u000a    primary key (customer_id,symbol),\u000a    constraint customer_id_fk foreign key(customer_id) references customer(id)\u000a)
create table offering(\u000a    db_id bigint IDENTITY PRIMARY KEY,\u000a    customer_id varchar(80) not null,\u000a    price bigint not null,\u000a    quantity bigint not null,\u000a    type varchar(30) not null,\u000a    kind integer not null,\u000a    constraint custome_id_fk foreign key(customer_id) references customer(id)\u000a)
create table instr_offer(\u000a    instr_cust_id varchar(80) not null,\u000a    instr_symbol varchar(100) not null,\u000a    offer_id bigint not null,\u000a    primary key (instr_cust_id, instr_symbol, offer_id ),\u000a    constraint instr_fk foreign key(instr_cust_id, instr_symbol) references instrument(customer_id,symbol),\u000a    constraint offer_id_fk foreign key(offer_id) references offering(db_id)\u000a)
create table transaction(\u000a    tr_id bigint IDENTITY PRIMARY KEY,\u000a    buyer varchar(80) not null,\u000a    seller varchar(80) not null,\u000a    instrument varchar(80) not null,\u000a    typeOfTrade varchar(80) not null,\u000a    quantity varchar(80) not null,\u000a    price varchar(80) not null\u000a)
INSERT INTO CUSTOMER VALUES('1','admin','password',0)
COMMIT
INSERT INTO INSTRUMENT VALUES('1','RANA',200)
COMMIT
INSERT INTO OFFERING VALUES(0,'1',100,20,'GTC',0)
COMMIT
INSERT INTO INSTR_OFFER VALUES('1','RANA',0)
COMMIT
INSERT INTO TRANSACTION VALUES(0,'11','1','RANA','GTC','22','200')
COMMIT
/*C3*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(1,'11','1','RANA','GTC','22','200')
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(2,'11','1','RANA','GTC','22','200')
COMMIT
DISCONNECT
/*C2*/drop table transaction if exists
create table transaction(\u000a    tr_id bigint IDENTITY PRIMARY KEY,\u000a    buyer varchar(80) not null,\u000a    seller varchar(80) not null,\u000a    instrument varchar(80) not null,\u000a    typeOfTrade varchar(80) not null,\u000a    quantity varchar(80) not null,\u000a    price varchar(80) not null\u000a)
/*C5*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(0,'11','1','RANA','GTC','22','200')
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(1,'11','1','RANA1','GTC','22','200')
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(2,'11','1','RANA','GTC','22','200')
COMMIT
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/drop table transaction if exists
create table transaction(\u000a    tr_id bigint IDENTITY PRIMARY KEY,\u000a    buyer varchar(80) not null,\u000a    seller varchar(80) not null,\u000a    instrument varchar(80) not null,\u000a    typeOfTrade varchar(80) not null,\u000a    quantity varchar(80) not null,\u000a    price varchar(80) not null,\u000a    time timestamp default now\u000a)
INSERT INTO TRANSACTION VALUES(0,'11','1','RANA','GTC','22','200','2016-05-12 23:46:49.434000')
COMMIT
INSERT INTO TRANSACTION VALUES(1,'11','1','BENZ','GTC','22','200','2016-05-12 23:48:33.958000')
COMMIT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/INSERT INTO TRANSACTION VALUES(2,'11','1','BMW','GTC','22','200','2016-05-13 00:11:29.152000')
COMMIT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(3,'2','1','RENA','net.internetengineering.domain.dealing.types.GTC','2','200','2016-05-13 00:23:42.444000')
COMMIT
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/DELETE FROM TRANSACTION WHERE TR_ID=3
COMMIT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
