/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
drop table instr_offer if exists
drop table instrument if exists
drop table offering if exists
drop table customer if exists
drop table transaction if exists
create table customer (    id varchar(80) not null,    name varchar(80) not null,    family varchar(80) not null,    balance bigint not null,    primary key (id))
INSERT INTO CUSTOMER VALUES('1','admin','password',1000000)
COMMIT
create table instrument (    customer_id varchar(80) not null,    symbol varchar(100) not null,    quantity bigint not null,    primary key (customer_id,symbol),    constraint customer_id_fk foreign key(customer_id) references customer(id) on delete cascade)
create table offering(    db_id bigint IDENTITY PRIMARY KEY,    customer_id varchar(80) not null,    price bigint not null,    quantity bigint not null,    type varchar(30) not null,    kind integer not null,    constraint custome_id_fk foreign key(customer_id) references customer(id) on delete cascade)
create table instr_offer(    instr_cust_id varchar(80) not null,    instr_symbol varchar(100) not null,    offer_id bigint not null,    primary key (instr_cust_id, instr_symbol, offer_id ),    constraint instr_fk foreign key(instr_cust_id, instr_symbol) references instrument(customer_id,symbol) on delete cascade,    constraint offer_id_fk foreign key(offer_id) references offering(db_id) on delete cascade)
create table transaction(    tr_id bigint IDENTITY PRIMARY KEY,    buyer varchar(80) not null,    seller varchar(80) not null,    instrument varchar(80) not null,    typeOfTrade varchar(80) not null,    quantity varchar(80) not null,    price varchar(80) not null,    time timestamp default now)
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(0,'11','1','BENZ','GTC','22','200','2016-05-13 15:53:07.384000')
COMMIT
INSERT INTO TRANSACTION VALUES(1,'11','1','BMW','GTC','22','200','2016-05-13 15:53:34.255000')
COMMIT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/INSERT INTO TRANSACTION VALUES(2,'11','1','RENO','GTC','3','300','2016-05-13 16:12:13.568000')
COMMIT
INSERT INTO CUSTOMER VALUES('2','hamed','1234',110)
COMMIT
INSERT INTO CUSTOMER VALUES('11','hamed','gorjiara',11000)
COMMIT
DELETE FROM CUSTOMER WHERE ID='2'
COMMIT
INSERT INTO TRANSACTION VALUES(3,'1','11','RENO','IOC','3','3000','2016-05-13 16:45:34.535000')
COMMIT
/*C3*/DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/DELETE FROM CUSTOMER WHERE ID='1'
INSERT INTO CUSTOMER VALUES('1','admin','admin',1000000)
COMMIT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
