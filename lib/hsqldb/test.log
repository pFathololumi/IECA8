/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
drop table instr_offer if exists
drop table instrument if exists
drop table offering if exists
drop table customer if exists
drop table transaction if exists
create table customer (    id varchar(80) not null,    name varchar(80) not null,    family varchar(80) not null,    balance bigint not null,    primary key (id))
INSERT INTO CUSTOMER VALUES('1','admin','password',1000000)
COMMIT
create table instrument (    customer_id varchar(80) not null,    symbol varchar(100) not null,    quantity bigint not null,    primary key (customer_id,symbol),    constraint customer_id_fk foreign key(customer_id) references customer(id) on delete cascade)
create table offering(    db_id bigint IDENTITY PRIMARY KEY,    customer_id varchar(80) not null,    price bigint not null,    quantity bigint not null,    type varchar(30) not null,    kind integer not null,    constraint custome_id_fk foreign key(customer_id) references customer(id) on delete cascade)
create table instr_offer(    instr_cust_id varchar(80) not null,    instr_symbol varchar(100) not null,    offer_id bigint not null,    primary key (instr_cust_id, instr_symbol, offer_id ),    constraint instr_fk foreign key(instr_cust_id, instr_symbol) references instrument(customer_id,symbol) on delete cascade,    constraint offer_id_fk foreign key(offer_id) references offering(db_id) on delete cascade)
create table transaction(    tr_id bigint IDENTITY PRIMARY KEY,    buyer varchar(80) not null,    seller varchar(80) not null,    instrument varchar(80) not null,    typeOfTrade varchar(80) not null,    quantity bigint not null,    price bigint not null,    tTime timestamp default now)
/*C3*/SET SCHEMA PUBLIC
INSERT INTO CUSTOMER VALUES('2','hamed','gorjiara',1000)
COMMIT
INSERT INTO INSTRUMENT VALUES('1','RANA',200)
COMMIT
INSERT INTO INSTRUMENT VALUES('2','RANA',20)
COMMIT
INSERT INTO INSTRUMENT VALUES('1','BENZ',3000)
COMMIT
INSERT INTO OFFERING VALUES(0,'1',100,20,'GTC',0)
COMMIT
INSERT INTO INSTR_OFFER VALUES('1','RANA',0)
COMMIT
INSERT INTO TRANSACTION VALUES(0,'2','1','BENZ','GTC',22,200,'2016-05-14 00:19:03.535000')
COMMIT
INSERT INTO TRANSACTION VALUES(1,'1','2','RANA','GTC',300,3000,'2016-05-14 00:19:34.776000')
COMMIT
INSERT INTO TRANSACTION VALUES(2,'1','2','RANA','IOC',40,5000,'2016-05-14 00:19:57.023000')
COMMIT
INSERT INTO TRANSACTION VALUES(3,'2','1','RANA','IOC',400,90000,'2016-05-14 00:20:18.559000')
COMMIT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
/*C49*/SET SCHEMA PUBLIC
DISCONNECT
/*C50*/SET SCHEMA PUBLIC
DISCONNECT
/*C51*/SET SCHEMA PUBLIC
DISCONNECT
/*C52*/SET SCHEMA PUBLIC
DISCONNECT
/*C53*/SET SCHEMA PUBLIC
DISCONNECT
/*C54*/SET SCHEMA PUBLIC
DISCONNECT
/*C55*/SET SCHEMA PUBLIC
DISCONNECT
/*C56*/SET SCHEMA PUBLIC
DISCONNECT
/*C57*/SET SCHEMA PUBLIC
DISCONNECT
/*C58*/SET SCHEMA PUBLIC
DISCONNECT
/*C59*/SET SCHEMA PUBLIC
DISCONNECT
/*C60*/SET SCHEMA PUBLIC
DISCONNECT
/*C61*/SET SCHEMA PUBLIC
DISCONNECT
/*C62*/SET SCHEMA PUBLIC
DISCONNECT
/*C63*/SET SCHEMA PUBLIC
DISCONNECT
/*C64*/SET SCHEMA PUBLIC
DISCONNECT
/*C65*/SET SCHEMA PUBLIC
DISCONNECT
/*C66*/SET SCHEMA PUBLIC
DISCONNECT
/*C67*/SET SCHEMA PUBLIC
DISCONNECT
/*C68*/SET SCHEMA PUBLIC
DISCONNECT
/*C69*/SET SCHEMA PUBLIC
DISCONNECT
/*C70*/SET SCHEMA PUBLIC
DISCONNECT
/*C71*/SET SCHEMA PUBLIC
DISCONNECT
/*C72*/SET SCHEMA PUBLIC
DISCONNECT
/*C73*/SET SCHEMA PUBLIC
DISCONNECT
/*C74*/SET SCHEMA PUBLIC
DISCONNECT
/*C75*/SET SCHEMA PUBLIC
DISCONNECT
/*C76*/SET SCHEMA PUBLIC
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
DISCONNECT
/*C78*/SET SCHEMA PUBLIC
DISCONNECT
/*C79*/SET SCHEMA PUBLIC
DISCONNECT
/*C80*/SET SCHEMA PUBLIC
DISCONNECT
/*C81*/SET SCHEMA PUBLIC
DISCONNECT
/*C82*/SET SCHEMA PUBLIC
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
DISCONNECT
/*C84*/SET SCHEMA PUBLIC
DISCONNECT
/*C85*/SET SCHEMA PUBLIC
DISCONNECT
/*C86*/SET SCHEMA PUBLIC
DISCONNECT
/*C87*/SET SCHEMA PUBLIC
DISCONNECT
/*C88*/SET SCHEMA PUBLIC
DISCONNECT
/*C89*/SET SCHEMA PUBLIC
DISCONNECT
/*C90*/SET SCHEMA PUBLIC
DISCONNECT
/*C91*/SET SCHEMA PUBLIC
DISCONNECT
/*C92*/SET SCHEMA PUBLIC
DISCONNECT
/*C93*/SET SCHEMA PUBLIC
DISCONNECT
/*C94*/SET SCHEMA PUBLIC
DISCONNECT
/*C95*/SET SCHEMA PUBLIC
DISCONNECT
/*C96*/SET SCHEMA PUBLIC
DISCONNECT
/*C97*/SET SCHEMA PUBLIC
DISCONNECT
/*C98*/SET SCHEMA PUBLIC
DISCONNECT
/*C99*/SET SCHEMA PUBLIC
DISCONNECT
/*C100*/SET SCHEMA PUBLIC
DISCONNECT
/*C101*/SET SCHEMA PUBLIC
DISCONNECT
/*C102*/SET SCHEMA PUBLIC
DISCONNECT
/*C103*/SET SCHEMA PUBLIC
DISCONNECT
/*C104*/SET SCHEMA PUBLIC
DISCONNECT
/*C105*/SET SCHEMA PUBLIC
DISCONNECT
/*C106*/SET SCHEMA PUBLIC
DISCONNECT
/*C107*/SET SCHEMA PUBLIC
DISCONNECT
/*C108*/SET SCHEMA PUBLIC
DISCONNECT
/*C109*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/DROP TABLE transaction
create table transaction(\u000a                            tr_id bigint IDENTITY PRIMARY KEY,\u000a                            buyer varchar(80) not null, \u000a                            seller varchar(80) not null,\u000a                            instrument varchar(80) not null,\u000a                            typeOfTrade varchar(80) not null, \u000a                            quantity bigint not null, \u000a                            price bigint not null,\u000a                            tTime date default now)
INSERT INTO TRANSACTION VALUES(0,'2','1','RANA','IOC',400,90000,'2016-05-14')
COMMIT
INSERT INTO TRANSACTION VALUES(1,'1','2','RANA','IOC',40,5000,'2016-05-14')
COMMIT
INSERT INTO TRANSACTION VALUES(2,'1','2','RANA','GTC',300,3000,'2016-05-14')
COMMIT
INSERT INTO TRANSACTION VALUES(3,'2','1','BENZ','GTC',22,200,'2016-05-14')
COMMIT
/*C110*/SET SCHEMA PUBLIC
DISCONNECT
/*C111*/SET SCHEMA PUBLIC
DISCONNECT
/*C112*/SET SCHEMA PUBLIC
DISCONNECT
/*C113*/SET SCHEMA PUBLIC
DISCONNECT
/*C114*/SET SCHEMA PUBLIC
DISCONNECT
/*C115*/SET SCHEMA PUBLIC
DISCONNECT
/*C116*/SET SCHEMA PUBLIC
DISCONNECT
/*C117*/SET SCHEMA PUBLIC
DISCONNECT
/*C118*/SET SCHEMA PUBLIC
DISCONNECT
/*C119*/SET SCHEMA PUBLIC
DISCONNECT
/*C120*/SET SCHEMA PUBLIC
DISCONNECT
/*C121*/SET SCHEMA PUBLIC
DISCONNECT
/*C122*/SET SCHEMA PUBLIC
DISCONNECT
/*C123*/SET SCHEMA PUBLIC
DISCONNECT
/*C124*/SET SCHEMA PUBLIC
DISCONNECT
/*C125*/SET SCHEMA PUBLIC
DISCONNECT
/*C126*/SET SCHEMA PUBLIC
DISCONNECT
/*C127*/SET SCHEMA PUBLIC
DISCONNECT
/*C128*/SET SCHEMA PUBLIC
DISCONNECT
/*C129*/SET SCHEMA PUBLIC
DISCONNECT
/*C130*/SET SCHEMA PUBLIC
DISCONNECT
/*C131*/SET SCHEMA PUBLIC
DISCONNECT
/*C132*/SET SCHEMA PUBLIC
DISCONNECT
/*C133*/SET SCHEMA PUBLIC
DISCONNECT
/*C134*/SET SCHEMA PUBLIC
DISCONNECT
/*C135*/SET SCHEMA PUBLIC
DISCONNECT
/*C136*/SET SCHEMA PUBLIC
DISCONNECT
/*C137*/SET SCHEMA PUBLIC
DISCONNECT
/*C138*/SET SCHEMA PUBLIC
DISCONNECT
/*C139*/SET SCHEMA PUBLIC
DISCONNECT
/*C140*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(4,'3','1','RENA','GTC',0,20,'2016-05-14')
COMMIT
DISCONNECT
/*C141*/SET SCHEMA PUBLIC
INSERT INTO TRANSACTION VALUES(5,'3','1','RENA','GTC',1,20,'2016-05-14')
COMMIT
DISCONNECT
/*C142*/SET SCHEMA PUBLIC
DISCONNECT
